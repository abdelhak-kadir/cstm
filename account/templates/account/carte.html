{% extends "account/main.html" %}

{% block content %}

<style>
    body {
        background-color: rgba(128, 128, 128, 0.386)
    }
</style>

<div class="container ">
    <main>

        <div class="row my-3 ">
            {% for msg in messages %}
            {% if 'success' == msg.tags %}
            <div class="alert alert-success alert-dismissible fade show d-flex justify-content-center" role="alert">
                {{msg}}<a href="tel:123-456-7890">0679399021 </a>
            </div>
            {% else %}
            <div class="alert alert-danger alert-dismissible fade show d-flex justify-content-center " role="alert">
                {{msg}}
            </div>
            {% endif %}
            {% endfor %}
        </div>
        <div class="row g-3 justify-content-center py-5  ">
            <div class="col-md-7 col-lg-8">
                <h4 class="mb-3 text-center"> البطاقة المهنية</h4>
                <form enctype="multipart/form-data" action="{% url 'carte' %}" method="post" class="needs-validation"
                    novalidate>
                    {% csrf_token %}
                    <div class="row g-3">
                        <div class="col-sm-6">
                            <label for="firstName" class="form-label">الاسم الأول</label>
                            {{form.prenom}}
                        </div>

                        <div class="col-sm-6">
                            <label for="lastName" class="form-label">اسم العائلة</label>
                            {{form.nom}}
                        </div>

                        <div class="col-sm-6">
                            <label for="address2" class="form-label"> رقم الهاتف</label>
                            {{form.phone}}
                        </div>


                        <div class="col-sm-6">
                            <label for="ICE" class="form-label">رقم البطاقة الوطنية</label>
                            {{form.cni}}
                        </div>


                        <div class="col-sm-6">
                            <label for="address2" class="form-label"> رخصة السياقة </label>
                            {{form.permis}}
                        </div>
                        <div class="col-sm-6">
                            <label for="address2" class="form-label"> الفحص الطبي </label>
                            {{form.visite_medicale}}
                        </div>
                        <div class="col-12">
                            <label for="address2" class="form-label d-grid justify-content-center"> المدينة </label>
                            {{form.ville}}
                        </div>
                        <div class="col-sm-6 d-grid justify-content-center">
                            <label for="address" class="form-label"> صنف البطاقة المهنية </label><br>
                            {{form.type_carte}}
                        </div>

                        <div class="col-sm-6 d-grid justify-content-center">
                            <label for="address2" class="form-label d-grid justify-content-center">نوع
                                التكوين</label><br>
                            {{form.formation_carte}}
                        </div>






                    </div>
                    <div class="d-flex justify-content-center">
                        <button class="w-50 btn btn-primary btn-lg my-5  " type="submit">تأكيد
                        </button>
                    </div>

                </form>
            </div>
        </div>
    </main>

</div>


<script>
    /* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
//We start indexing at one because CSRF_token is considered and input field 
*/
    //Query All input fields
    var form_fields = document.getElementsByTagName('input')
    for (var field in form_fields) {
        form_fields[field].className += ' form-control'
    }
    var form_fields = document.getElementsByTagName('select')
    for (var field in form_fields) {
        form_fields[field].className += ' form-form-select form-select-lg mb-2   '
    }
</script>


{% endblock %}